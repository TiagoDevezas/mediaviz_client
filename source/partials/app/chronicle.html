<div id="chronicle">

	<h3>Crónica</h3>

	<div class="search-form">
		<div class="keyword-select">
			<ui-select multiple tagging tagging-label="false" ng-model="keywords.selected" style="min-width: 400px;" reset-search-input="true" search-enabled="false" on-select="addKeyword($item, $model)" on-remove="removeKeyword($item, $model)">
		    <ui-select-match placeholder="Introduzir palavras a pesquisar...">{{$item}}</ui-select-match>
		    <ui-select-choices repeat="keyword in keywords.selected">
		      {{ keyword }}
		    </ui-select-choices>
		  </ui-select>
		  <button class="clear-chart" ng-click="clearChart()">Limpar gráfico</button>		
		</div>

		<div class="field-select">
			<span><strong>Campos a pesquisar: </strong></span>
			<label>Título ou sumário</label>
			<input type="radio" value="title_summary" ng-model="searchFields" ng-change="redrawChart()">

			<label>Título</label>
			<input type="radio" value="title" ng-model="searchFields" ng-change="redrawChart()">

			<label>Sumário</label>
			<input type="radio" value="summary" ng-model="searchFields" ng-change="redrawChart()">
		</div>		
	</div>


	<div class="search-tools">
		<ul style="float: left;">
			<li><a href="" ng-click="setDataFormat('absolute')" ng-class="{'selected':dataFormat === 'absolute'}">Total</a></li>
			<li><a href="" ng-click="setDataFormat('relative')" ng-class="{'selected':dataFormat === 'relative'}">Percentagem</a></li>
			<li class="menu-separator"> | </li>
			<li><a href="" ng-click="setSourceType('national')" ng-class="{'selected':sourceType === 'national'}">Jornais Nacionais</a></li>
			<li><a href="" ng-click="setSourceType('international')" ng-class="{'selected':sourceType === 'international'}">Jornais Internacionais</a></li>
			<li><a href="" ng-click="setSourceType('blogs')" ng-class="{'selected':sourceType === 'blogs'}">Blogs</a></li>
			<li><a href="" ng-click="setSourceType('all')" ng-class="{'selected':sourceType === 'all'}">Todas</a></li>
		</ul>
		<ul style="float: right;">
			<li><a href="" ng-click="setChartType('line')" ng-class="{'selected':chartType === 'line'}">Linha</a></li>
			<li><a href="" ng-click="setChartType('area')" ng-class="{'selected':chartType === 'area'}">Área</a></li>
		</ul>
	</div>


	<loading-flash>A carregar...</loading-flash>

	<div id="keyword-chart">
	</div>

</div>