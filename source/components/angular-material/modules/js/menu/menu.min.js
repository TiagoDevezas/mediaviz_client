/*!
 * Angular Material Design
 * https://github.com/angular/material
 * @license MIT
 * v0.10.1-rc1-master-d52e9c2
 */
!function(e,t,n){"use strict";function r(e){function n(e){e.addClass("md-menu");var t=e.children()[0];if(t.hasAttribute("ng-click")||(t=t.querySelector("[ng-click]")),t&&t.setAttribute("aria-haspopup","true"),2!=e.children().length)throw Error("Invalid HTML for md-menu. Expected two children elements.");return r}function r(e,n,r,o){var i=t.element('<div class="md-open-menu-container md-whiteframe-z2"></div>'),a=n.children()[1];i.append(a),o.init(i),e.$on("$destroy",function(){o.isOpen&&(i.remove(),o.close())})}return{restrict:"E",require:"mdMenu",controller:"mdMenuCtrl",scope:!0,compile:n}}function o(e,t,n,r){var o,i,a=this;this.init=function(e){o=e,i=n[0].querySelector("[ng-click]")},this.open=function(t){t&&t.stopPropagation(),a.isOpen=!0,i.setAttribute("aria-expanded","true"),e.show({scope:r,mdMenuCtrl:a,element:o,target:n[0]})},r.$mdOpenMenu=this.open,this.close=function(t){a.isOpen=!1,i.setAttribute("aria-expanded","false"),e.hide(),t||n.children()[0].focus()},this.positionMode=function(){var e=(t.mdPositionMode||"target").split(" ");return 1==e.length&&e.push(e[0]),{left:e[0],top:e[1]}},this.offsets=function(){var e=(t.mdOffset||"0 0").split(" ").map(parseFloat);if(2==e.length)return{left:e[0],top:e[1]};if(1==e.length)return{top:e[0],left:e[0]};throw Error("Invalid offsets specified. Please follow format <x, y> or <n>")}}function i(r){function o(r,o,a,l,d,c){function s(e,n,i){function c(){if(!i.target)throw Error("$mdMenu.show() expected a target to animate from in options.target");t.extend(i,{alreadyOpen:!1,isRemoved:!1,target:t.element(i.target),parent:t.element(i.parent),menuContentEl:t.element(n[0].querySelector("md-menu-content")),backdrop:i.hasBackdrop&&t.element('<md-backdrop class="md-menu-backdrop md-click-catcher">')})}function s(){i.resizeFn=function(){p(n,i)},t.element(o).on("resize",i.resizeFn),t.element(o).on("orientationchange",i.resizeFn)}function u(){i.parent.append(n),n.removeClass("md-leave"),r(function(){r(function(){p(n,i),r(function(){n.addClass("md-active"),i.alreadyOpen=!0,n[0].style[d.CSS.TRANSFORM]=""})})})}function f(){n.addClass("md-clickable"),i.backdrop&&i.backdrop.on("click",function(t){t.preventDefault(),t.stopPropagation(),e.$apply(function(){i.mdMenuCtrl.close(!0)})}),i.menuContentEl.on("keydown",function(t){e.$apply(function(){switch(t.keyCode){case d.KEY_CODE.ESCAPE:i.mdMenuCtrl.close();break;case d.KEY_CODE.UP_ARROW:m(t,i.menuContentEl,i,-1);break;case d.KEY_CODE.DOWN_ARROW:m(t,i.menuContentEl,i,1)}})}),i.menuContentEl[0].addEventListener("click",function(t){function n(){e.$apply(function(){i.mdMenuCtrl.close()})}function r(e,t){if(!e)return!1;for(var n,r=0;n=t[r];++r)for(var o,i=[n,"data-"+n,"x-"+n],a=0;o=i[a];++a)if(e.hasAttribute(o))return!0;return!1}var o=t.target;do{if(o==i.menuContentEl[0])return;if(r(o,["ng-click","ng-href","ui-sref"])){o.hasAttribute("disabled")||n();break}}while(o=o.parentNode)},!0);var t=i.menuContentEl[0].querySelector("[md-menu-focus-target]");t||(t=i.menuContentEl[0].firstElementChild.firstElementChild),t.focus()}return c(i),l.inherit(i.menuContentEl,i.target),s(),i.disableParentScroll&&(i.restoreScroll=a.disableScrollAround(i.element)),i.backdrop&&(l.inherit(i.backdrop,i.parent),i.parent.append(i.backdrop)),u(),h.waitTransitionEnd(n,{timeout:370}).then(function(e){return f(),e})}function m(e,t,n,r){for(var o=a.getClosest(e.target,"MD-MENU-ITEM"),i=a.nodesToArray(t[0].children),l=i.indexOf(o),d=l+r;d>=0&&d<i.length;d+=r){var c=i[d].firstElementChild||i[d],s=u(c);if(s)break}}function u(e){return e&&-1!=e.getAttribute("tabindex")?(e.focus(),c[0].activeElement==e?!0:!1):void 0}function f(e,r,i){return i.isRemoved=!0,r.addClass("md-leave").removeClass("md-clickable"),t.element(o).off("resize",i.resizeFn),t.element(o).off("orientationchange",i.resizeFn),i.resizeFn=n,h.waitTransitionEnd(r,{timeout:370})["finally"](function(){r.removeClass("md-active"),i.backdrop&&i.backdrop.remove(),r[0].parentNode===i.parent[0]&&i.parent[0].removeChild(r[0]),i.restoreScroll&&i.restoreScroll()})}function p(t,n){function r(e){e.top=Math.max(Math.min(e.top,v.bottom-s.offsetHeight),v.top),e.left=Math.max(Math.min(e.left,v.right-s.offsetWidth),v.left)}function o(){for(var t=0;t<m.children.length;++t)if("none"!=e.getComputedStyle(m.children[t]).display)return m.children[t]}if(!n.isRemoved){var a,l,c,s=t[0],m=t[0].firstElementChild,u=m.getBoundingClientRect(),f=n.parent[0],p=f.getBoundingClientRect(),h=n.target[0].querySelector("[md-menu-origin]")||n.target[0],g=h.getBoundingClientRect(),v={left:p.left+i,top:Math.max(p.top,0)+i,bottom:Math.max(p.bottom,Math.max(p.top,0)+p.height)-i,right:p.right-i},C=n.mdMenuCtrl.positionMode();if("target"==C.top||"target"==C.left||"target-right"==C.left){if(a=o(),!a)throw Error("Error positioning menu. No visible children.");a=a.firstElementChild||a,a=a.querySelector("[md-menu-align-target]")||a,l=a.getBoundingClientRect(),c={top:parseFloat(s.style.top||0),left:parseFloat(s.style.left||0)}}var b={},E="top ";switch(C.top){case"target":b.top=c.top+g.top-l.top;break;default:throw new Error('Invalid target mode "'+C.top+'" specified for md-menu on Y axis.')}switch(C.left){case"target":b.left=c.left+g.left-l.left,E+="left";break;case"target-right":b.left=g.right-u.width+(u.right-l.right),E+="right";break;default:throw new Error('Invalid target mode "'+C.left+'" specified for md-menu on X axis.')}var M=n.mdMenuCtrl.offsets();b.top+=M.top,b.left+=M.left,r(b),t.css({top:b.top+"px",left:b.left+"px"}),s.style[d.CSS.TRANSFORM_ORIGIN]=E,n.alreadyOpen||(s.style[d.CSS.TRANSFORM]="scale("+Math.min(g.width/s.offsetWidth,1)+","+Math.min(g.height/s.offsetHeight,1)+")")}}var h=a.dom.animator;return{parent:"body",onShow:s,onRemove:f,hasBackdrop:!0,disableParentScroll:!0,skipCompile:!0,preserveScope:!0,themable:!0}}var i=8;return o.$inject=["$$rAF","$window","$mdUtil","$mdTheming","$mdConstant","$document"],r("$mdMenu").setDefaults({methods:["target"],options:o})}t.module("material.components.menu",["material.core","material.components.backdrop"]).directive("mdMenu",r).controller("mdMenuCtrl",o),r.$inject=["$mdMenu"],o.$inject=["$mdMenu","$attrs","$element","$scope"],t.module("material.components.menu").provider("$mdMenu",i),i.$inject=["$$interimElementProvider"]}(window,window.angular);